## 2025-05-14 - [Video Control Logic] **Learning:** Synchronizing React state with imperative browser APIs (like HTML5 Video) requires careful use of `useRef` and `useEffect`. Modern browsers block `play()` calls without user interaction, so the "unhappy path" must always be handled with a `.catch()` block. **Action:** Always wrap `mediaElement.play()` in a try/catch or promise catch to prevent uncaught rejections and sync UI state accordingly.

## 2025-05-15 - [Signaling State Integrity] **Learning:** In P2P signaling systems, identity (username) must be tied to the socket session at the moment of room entry. Storing the username on the socket instance during `join-stream` ensures that subsequent room events (`user-connected`, `user-disconnected`) can propagate meaningful identity data without redundant lookups. Redundant joins should be handled on the backend to prevent duplicate signaling events caused by React component remounting or multiple components sharing a single socket. **Action:** Always validate room state on the backend before emitting join/leave notifications.
